<!doctype html>
<html>
<head>
  <title>Snarkjs client example</title>
</head>
<body>

  <h1>Snarkjs client example</h1>
  <button id="bGenProof"> Create proof </button>

  <!-- JS-generated output will be added here. -->
  <pre class="proof"> Proof: <code id="proof"></code></pre>

  <pre class="proof"> Result: <code id="result"></code></pre>


  <script src="snarkjs.min.js">   </script>


  <!-- This is the bundle generated by rollup.js -->
  <script>

const proofComponent = document.getElementById('proof');
const resultComponent = document.getElementById('result');
const bGenProof = document.getElementById("bGenProof");

bGenProof.addEventListener("click", calculateProof);

async function calculateProof() {

    const { proof, publicSignals } =
      await snarkjs.groth16.fullProve( {
  root: 10272596470842989889131263666755227636877941914255694966465976469305926704328n,
  enabled_age: 1,
  siblings_age: [
    14318826656202632489621175044457929738341559261240066044617225719369724472557n,
    16458884667780311415931657624870651669586128768696796112923086742410855126204n,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  oldKey_age: 0,
  oldValue_age: 0,
  isOld0_age: 0,
  key_age: 2n,
  value_age: 25n,
  fnc_age: 0,
  enabled_alumni: 1,
  siblings_alumni: [
    14318826656202632489621175044457929738341559261240066044617225719369724472557n,
    16191785148234670434452146708529731055900027417973611561045662530462874792865n,
    15692429824508951494465139282936636028200795395009574220384960293101538051165n,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  oldKey_alumni: 0,
  oldValue_alumni: 0,
  isOld0_alumni: 0,
  key_alumni: 4n,
  value_alumni: 13470848316145890340874722236101339397950228355143393785271900851951094073694n,
  fnc_alumni: 0,
  enabled_name: 1,
  siblings_name: [
    17254404140280282472057667831761359545055308307154070229116084621257068800336n,
    3323234729009241119389734068334169148421670544066262193899138423697830053511n,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  oldKey_name: 0,
  oldValue_name: 0,
  isOld0_name: 0,
  key_name: 1n,
  value_name: 5029417642939702593447539596443758580832091925927325248535360558432489783633n,
  fnc_name: 0,
  enabled_eddsa: 1,
  Ax: 13277427435165878497778222415993513565335242147425444199013288855685581939618n,
  Ay: 13622229784656158136036771217484571176836296686641868549125388198837476602820n,
  R8x: 14843327923499602530760840822364653819560149483324056861844414827173045711128n,
  R8y: 16624741311753369209800270717954129820251768033844592664257222687029635194829n,
  S: 2003340101055013093731532733602979271886157286292523269931749695412007991258n,
  M: 10272596470842989889131263666755227636877941914255694966465976469305926704328n
}, "circuit.wasm", "circuit_final.zkey");

    proofComponent.innerHTML = JSON.stringify(proof, null, 1);


    const vkey = await fetch("verification_key.json").then( function(res) {
        return res.json();
    });

    const res = await snarkjs.groth16.verify(vkey, publicSignals, proof);

    resultComponent.innerHTML = res;
}

  </script>

</body>
</html>